<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add targets for CO2 emissions per unit production at the portfolio level,
using the SDA approach — target_sda • r2dii.analysis</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Add targets for CO2 emissions per unit production at the portfolio level,
using the SDA approach — target_sda" />
<meta property="og:description" content="This function calculates targets of CO2 emissions per unit production at the
portfolio-level, otherwise referred to as &quot;emissions factors&quot;. It uses the
sectoral-decarbonization approach (SDA)
to calculate these targets." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">r2dii.analysis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/target-sda.html">Sectoral Decarbonization Approach (SDA)</a>
    </li>
    <li>
      <a href="../articles/target-market-share.html">Market Share Approach</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://2degreesinvesting.github.io/r2dii.data">r2dii.data</a>
    </li>
    <li>
      <a href="https://2degreesinvesting.github.io/r2dii.match">r2dii.match</a>
    </li>
    <li>
      <a href="https://2degreesinvesting.github.io/r2dii.analysis">r2dii.analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/2DegreesInvesting/r2dii.analysis">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add targets for CO2 emissions per unit production at the portfolio level,
using the SDA approach</h1>
    <small class="dont-index">Source: <a href='https://github.com/2DegreesInvesting/r2dii.analysis/blob/master/R/target_sda.R'><code>R/target_sda.R</code></a></small>
    <div class="hidden name"><code>target_sda.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function calculates targets of CO2 emissions per unit production at the
portfolio-level, otherwise referred to as "emissions factors". It uses the
<a href='https://2degreesinvesting.github.io/r2dii.analysis/articles/sda-target.html'>sectoral-decarbonization approach (SDA)</a>
to calculate these targets.</p>
    </div>

    <pre class="usage"><span class='fu'>target_sda</span>(<span class='no'>data</span>, <span class='no'>ald</span>, <span class='no'>co2_intensity_scenario</span>, <span class='kw'>use_credit_limit</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A dataframe like the output of
<code><a href='https://github.com/2DegreesInvesting/r2dii.match//reference/prioritize.html'>r2dii.match::prioritize()</a></code>.</p></td>
    </tr>
    <tr>
      <th>ald</th>
      <td><p>An asset-level data frame like <a href='https://github.com/2DegreesInvesting/r2dii.data//reference/ald_demo.html'>r2dii.data::ald_demo</a>.</p></td>
    </tr>
    <tr>
      <th>co2_intensity_scenario</th>
      <td><p>A scenario data frame like
<a href='https://github.com/2DegreesInvesting/r2dii.data//reference/co2_intensity_scenario_demo.html'>r2dii.data::co2_intensity_scenario_demo</a>.</p></td>
    </tr>
    <tr>
      <th>use_credit_limit</th>
      <td><p>Logical vector of length 1. <code>FALSE</code> defaults to using
the column <code>loan_size_outstanding</code>. Set to <code>TRUE</code> to instead use the column
<code>loan_size_credit_limit</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble with the CO2 emissions factors attributed to
the portfolio. These values include the portfolio's actual projected CO2
emissions factors, the scenario pathway CO2 emissions factors and the SDA
calculated portfolio target emissions factors (see column
<code>emission_factor_metric</code>).</p>
    <h2 class="hasAnchor" id="handling-grouped-data"><a class="anchor" href="#handling-grouped-data"></a>Handling grouped data</h2>

    

<p>This function ignores existing groups and outputs ungrouped data.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other functions to calculate scenario targets: 
<code><a href='target_market_share.html'>target_market_share</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>installed</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span>(<span class='st'>"r2dii.data"</span>, <span class='kw'>quietly</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) <span class='kw'>&amp;&amp;</span>
  <span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span>(<span class='st'>"r2dii.match"</span>, <span class='kw'>quietly</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='kw'>if</span> (!<span class='no'>installed</span>) <span class='fu'><a href='https://rdrr.io/r/base/stop.html'>stop</a></span>(<span class='st'>"Please install r2dii.match and r2dii.data"</span>)

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>r2dii.data</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>r2dii.match</span>)

<span class='no'>valid_matches</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://github.com/2DegreesInvesting/r2dii.match//reference/match_name.html'>match_name</a></span>(<span class='no'>loanbook_demo</span>, <span class='no'>ald_demo</span>) <span class='kw'>%&gt;%</span>
  <span class='co'># WARNING: Remember to validate matches (see `?prioritize`)</span>
  <span class='fu'><a href='https://github.com/2DegreesInvesting/r2dii.match//reference/prioritize.html'>prioritize</a></span>()

<span class='no'>out</span> <span class='kw'>&lt;-</span> <span class='no'>valid_matches</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>target_sda</span>(
    <span class='kw'>ald</span> <span class='kw'>=</span> <span class='no'>ald_demo</span>,
    <span class='kw'>co2_intensity_scenario</span> <span class='kw'>=</span> <span class='no'>co2_intensity_scenario_demo</span>
  )

<span class='co'># The output includes the portfolio's actual projected emissions factors, the</span>
<span class='co'># scenario pathway emissions factors, and the portfolio's target emissions</span>
<span class='co'># factors.</span>
<span class='no'>out</span></div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 28 x 4</span><span>
#&gt;    sector  year emission_factor_metric emission_factor_value
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                                  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>020 projected                              0.664
#&gt; </span><span style='color: #555555;'> 2</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>020 target                                 0.669
#&gt; </span><span style='color: #555555;'> 3</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>020 scenario_benchmark                     0.7  
#&gt; </span><span style='color: #555555;'> 4</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>021 projected                              0.665
#&gt; </span><span style='color: #555555;'> 5</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>021 target                                 0.612
#&gt; </span><span style='color: #555555;'> 6</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>021 scenario_benchmark                     0.64 
#&gt; </span><span style='color: #555555;'> 7</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>022 projected                              0.666
#&gt; </span><span style='color: #555555;'> 8</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>022 target                                 0.555
#&gt; </span><span style='color: #555555;'> 9</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>022 scenario_benchmark                     0.580
#&gt; </span><span style='color: #555555;'>10</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>023 projected                              0.667
#&gt; </span><span style='color: #555555;'># … with 18 more rows</span><span></div><div class='input'>
<span class='co'># Split view by metric</span>
<span class='fu'><a href='https://rdrr.io/r/base/split.html'>split</a></span>(<span class='no'>out</span>, <span class='no'>out</span>$<span class='no'>emission_factor_metric</span>)</div><div class='output co'>#&gt; $projected
#&gt; </span><span style='color: #555555;'># A tibble: 6 x 4</span><span>
#&gt;   sector  year emission_factor_metric emission_factor_value
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                                  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>020 projected                              0.664
#&gt; </span><span style='color: #555555;'>2</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>021 projected                              0.665
#&gt; </span><span style='color: #555555;'>3</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>022 projected                              0.666
#&gt; </span><span style='color: #555555;'>4</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>023 projected                              0.667
#&gt; </span><span style='color: #555555;'>5</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>024 projected                              0.668
#&gt; </span><span style='color: #555555;'>6</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>025 projected                              0.669
#&gt; 
#&gt; $scenario_benchmark
#&gt; </span><span style='color: #555555;'># A tibble: 11 x 4</span><span>
#&gt;    sector  year emission_factor_metric emission_factor_value
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                                  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>020 scenario_benchmark                     0.7  
#&gt; </span><span style='color: #555555;'> 2</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>021 scenario_benchmark                     0.64 
#&gt; </span><span style='color: #555555;'> 3</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>022 scenario_benchmark                     0.580
#&gt; </span><span style='color: #555555;'> 4</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>023 scenario_benchmark                     0.52 
#&gt; </span><span style='color: #555555;'> 5</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>024 scenario_benchmark                     0.46 
#&gt; </span><span style='color: #555555;'> 6</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>025 scenario_benchmark                     0.4  
#&gt; </span><span style='color: #555555;'> 7</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>030 scenario_benchmark                     0.39 
#&gt; </span><span style='color: #555555;'> 8</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>035 scenario_benchmark                     0.38 
#&gt; </span><span style='color: #555555;'> 9</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>040 scenario_benchmark                     0.25 
#&gt; </span><span style='color: #555555;'>10</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>045 scenario_benchmark                     0.2  
#&gt; </span><span style='color: #555555;'>11</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>050 scenario_benchmark                     0.1  
#&gt; 
#&gt; $target
#&gt; </span><span style='color: #555555;'># A tibble: 11 x 4</span><span>
#&gt;    sector  year emission_factor_metric emission_factor_value
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                                  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>020 target                                 0.669
#&gt; </span><span style='color: #555555;'> 2</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>021 target                                 0.612
#&gt; </span><span style='color: #555555;'> 3</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>022 target                                 0.555
#&gt; </span><span style='color: #555555;'> 4</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>023 target                                 0.498
#&gt; </span><span style='color: #555555;'> 5</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>024 target                                 0.441
#&gt; </span><span style='color: #555555;'> 6</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>025 target                                 0.384
#&gt; </span><span style='color: #555555;'> 7</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>030 target                                 0.375
#&gt; </span><span style='color: #555555;'> 8</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>035 target                                 0.365
#&gt; </span><span style='color: #555555;'> 9</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>040 target                                 0.242
#&gt; </span><span style='color: #555555;'>10</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>045 target                                 0.195
#&gt; </span><span style='color: #555555;'>11</span><span> cement  </span><span style='text-decoration: underline;'>2</span><span>050 target                                 0.1  
#&gt; </div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#handling-grouped-data">Handling grouped data</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/jdhoffa/'>Jackson Hoffart</a>, <a href='https://github.com/maurolepore/'>Mauro Lepore</a>, Klaus Hogedorn, <a href='https://2degrees-investing.org/'>2 Degrees Investing Initiative</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


