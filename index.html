<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tools for Climate Scenario Analysis • r2dii.analysis</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Tools for Climate Scenario Analysis">
<meta property="og:description" content="Provides a suite of metrics and analysis tools
    commonly used for climate scenario analysis. For more information
    visit &lt;https://2degrees-investing.org/&gt;.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">r2dii.analysis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/target-sda.html">Sectoral Decarbonization Approach (SDA)</a>
    </li>
    <li>
      <a href="articles/target-market-share.html">Market Share Approach</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/2DegreesInvesting/r2dii.analysis">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://2degreesinvesting.github.io/r2dii/index.html">r2dii</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="r2diianalysis-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#r2diianalysis-" class="anchor"></a>r2dii.analysis <a href="https://github.com/2DegreesInvesting/r2dii.analysis"><img src="https://imgur.com/A5ASZPE.png" align="right" height="43"></a>
</h1></div>
<!-- badges: start -->

<p>Warning:</p>
<blockquote>
<p>An experimental package is in the very early stages of development. The API will be changing frequently as we rapidly iterate and explore variations in search of the best fit. Experimental packages will make API breaking changes without deprecation, so you are generally best off waiting until the package is more mature before you use it.</p>
</blockquote>
<p>– <a href="https://www.tidyverse.org/lifecycle/#experimental" class="uri">https://www.tidyverse.org/lifecycle/#experimental</a></p>
<p>These tools implement in R a fundamental part of the software PACTA (Paris Agreement Capital Transition Assessment), which is a free tool that calculates the alignment between financial portfolios and climate scenarios (<a href="https://2degrees-investing.org/" class="uri">https://2degrees-investing.org/</a>). Financial institutions use PACTA to study how their capital allocation impacts the climate. This package provides a suite of metrics and analysis tools commonly used for climate scenario analysis. For more information visit <a href="https://2degrees-investing.org/" class="uri">https://2degrees-investing.org/</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the development version of r2dii.analysis with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"2DegreesInvesting/r2dii.analysis"</span>)</span></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<ul>
<li>Use <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> to attach the packages you need.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(r2dii.data)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(r2dii.match)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(r2dii.analysis)</span></code></pre></div>
<ul>
<li>Use <code><a href="https://github.com/2DegreesInvesting/r2dii.match//reference/match_name.html">r2dii.match::match_name()</a></code> to identify matches between your loanbook and the asset level data.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>matched &lt;-<span class="st"> </span><span class="kw"><a href="https://github.com/2DegreesInvesting/r2dii.match//reference/match_name.html">match_name</a></span>(loanbook_demo, ald_demo) <span class="op">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="st">  </span><span class="kw"><a href="https://github.com/2DegreesInvesting/r2dii.match//reference/prioritize.html">prioritize</a></span>()</span></code></pre></div>
<ul>
<li>Use <code><a href="reference/target_sda.html">target_sda()</a></code> to calculate SDA targets of CO2 emissions.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="reference/target_sda.html">target_sda</a></span>(matched, ald_demo, co2_intensity_scenario_demo)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt; # A tibble: 28 x 4</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt; # Groups:   sector [1]</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt;    sector  year emission_factor_name               emission_factor_value</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt;    &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;                                              &lt;dbl&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt;  1 cement  2020 portfolio_weighted_emission_factor                 0.664</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt;  2 cement  2020 portfolio_target_emission_factor                   0.669</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt;  3 cement  2020 scenario_emission_factor                           0.7  </span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt;  4 cement  2021 portfolio_weighted_emission_factor                 0.665</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">#&gt;  5 cement  2021 portfolio_target_emission_factor                   0.612</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">#&gt;  6 cement  2021 scenario_emission_factor                           0.64 </span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">#&gt;  7 cement  2022 portfolio_weighted_emission_factor                 0.666</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co">#&gt;  8 cement  2022 portfolio_target_emission_factor                   0.555</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co">#&gt;  9 cement  2022 scenario_emission_factor                           0.580</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">#&gt; 10 cement  2023 portfolio_weighted_emission_factor                 0.667</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="co">#&gt; # … with 18 more rows</span></span></code></pre></div>
<ul>
<li>Use <code><a href="reference/join_ald_scenario.html">join_ald_scenario()</a></code> to join the matched dataset to the relevant scenario data, and to pick assets in the relevant regions.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>loanbook_joined_to_ald_scenario &lt;-<span class="st"> </span>matched <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="st">  </span><span class="kw"><a href="reference/join_ald_scenario.html">join_ald_scenario</a></span>(</span>
<span id="cb5-3"><a href="#cb5-3"></a>    <span class="dt">ald =</span> ald_demo, </span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="dt">scenario =</span> scenario_demo_<span class="dv">2020</span>, </span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="dt">region_isos =</span> region_isos_demo</span>
<span id="cb5-6"><a href="#cb5-6"></a>  )</span></code></pre></div>
<ul>
<li>Use <code><a href="reference/summarize_company_production.html">summarize_company_production()</a></code> then <code><a href="reference/target_market_share_company.html">target_market_share_company()</a></code> to calculate scenario-targets for each company.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>loanbook_joined_to_ald_scenario <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw"><a href="reference/summarize_company_production.html">summarize_company_production</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">  </span><span class="kw"><a href="reference/target_market_share_company.html">target_market_share_company</a></span>()</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt; # A tibble: 12,756 x 7</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt;    sector  technology  year name_ald    region weighted_produc… weighted_produc…</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;                       &lt;dbl&gt;</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">#&gt;  1 automo… electric    2020 shanghai a… global company                     5140.</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">#&gt;  2 automo… electric    2020 shanghai a… global target_cps                  5140.</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">#&gt;  3 automo… electric    2020 shanghai a… global target_sds                  5140.</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">#&gt;  4 automo… electric    2020 shanghai a… global target_sps                  5140.</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">#&gt;  5 automo… electric    2020 sichuan au… global company                     5985.</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">#&gt;  6 automo… electric    2020 sichuan au… global target_cps                  5985.</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">#&gt;  7 automo… electric    2020 sichuan au… global target_sds                  5985.</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">#&gt;  8 automo… electric    2020 sichuan au… global target_sps                  5985.</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co">#&gt;  9 automo… electric    2020 singulato   global company                     8674.</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="co">#&gt; 10 automo… electric    2020 singulato   global target_cps                  8674.</span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co">#&gt; # … with 12,746 more rows</span></span></code></pre></div>
<ul>
<li>Use <code><a href="reference/summarize_portfolio_production.html">summarize_portfolio_production()</a></code> then <code><a href="reference/target_market_share_portfolio.html">target_market_share_portfolio()</a></code> to calculate scenario-targets for the whole portfolio:</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>loanbook_joined_to_ald_scenario <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="st">  </span><span class="kw"><a href="reference/summarize_portfolio_production.html">summarize_portfolio_production</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="st">  </span><span class="kw"><a href="reference/target_market_share_portfolio.html">target_market_share_portfolio</a></span>()</span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">#&gt; # A tibble: 936 x 6</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">#&gt;    sector    technology  year region weighted_production_… weighted_production_…</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;                                 &lt;dbl&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt;  1 automoti… electric    2020 global portfolio                           148935.</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt;  2 automoti… electric    2020 global target_cps                          148935.</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt;  3 automoti… electric    2020 global target_sds                          148935.</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#&gt;  4 automoti… electric    2020 global target_sps                          148935.</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="co">#&gt;  5 automoti… electric    2021 global portfolio                           150875.</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co">#&gt;  6 automoti… electric    2021 global target_cps                          151589.</span></span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="co">#&gt;  7 automoti… electric    2021 global target_sds                          165045.</span></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="co">#&gt;  8 automoti… electric    2021 global target_sps                          152307.</span></span>
<span id="cb7-15"><a href="#cb7-15"></a><span class="co">#&gt;  9 automoti… electric    2022 global portfolio                           152816.</span></span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="co">#&gt; 10 automoti… electric    2022 global target_cps                          154188.</span></span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="co">#&gt; # … with 926 more rows</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/2DegreesInvesting/r2dii.analysis">https://​github.com/​2DegreesInvesting/​r2dii.analysis</a>
</li>
<li>Report a bug at <br><a href="https://github.com/2DegreesInvesting/r2dii.analysis/issues">
    https://​github.com/​2DegreesInvesting/​r2dii.analysis/​issues</a>
</li>
<li>Learn more at <br><a href="https://2degrees-investing.org/">https://​2degrees-investing.org/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/maurolepore/">Mauro Lepore</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-1986-7988" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://github.com/jdhoffa/">Jackson Hoffart</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-8600-5042" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Vincent Jerosch-Herold <br><small class="roles"> Author </small>  </li>
<li>Clare Murray <br><small class="roles"> Author </small>  </li>
<li>Klaus Hogedorn <br><small class="roles"> Author </small>  </li>
<li>
<a href="https://2degrees-investing.org/">2 Degrees Investing Initiative</a> <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/maurolepore/">Mauro Lepore</a>, <a href="https://github.com/jdhoffa/">Jackson Hoffart</a>, Vincent Jerosch-Herold, Clare Murray, Klaus Hogedorn, <a href="https://2degrees-investing.org/">2 Degrees Investing Initiative</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
