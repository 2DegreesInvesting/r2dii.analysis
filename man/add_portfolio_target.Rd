% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_portfolio_target.R
\name{add_portfolio_target}
\alias{add_portfolio_target}
\title{Add portfolio-level targets}
\usage{
add_portfolio_target(data)
}
\arguments{
\item{data}{A "data.frame" like the output of
\code{\link[=summarize_portfolio_production]{summarize_portfolio_production()}}.}
}
\value{
A tibble with the same groups as the input (if any) and columns:
\code{tmsr_target_weighted_production} and \code{smsp_target_weighted_production}.
}
\description{
This function calculates the portfolio-level production targets, as
calculated using either the technology market share ratio \code{tmsr} or sector
market share percentage \code{smsp}.
}
\examples{
master <- tibble::tibble(
  id_loan = c("i1", "i2", "i1", "i2"),
  loan_size_outstanding = c(40, 10, 40, 10),
  loan_size_credit_limit = c(2, 2, 2, 2),
  sector = c("automotive", "automotive","automotive","automotive"),
  name_ald = c("shaanxi auto","shaanxi auto","shaanxi auto", "shaanxi auto"),
  technology = c("ta", "ta", "tb", "tb"),
  year = c(2025, 2025, 2025, 2025),
  production = c(10, 30, 20, 40),
  plant_location = c("BF", "BF", "BF", "BF"),
  scenario = c("sds", "sds", "sds", "sds"),
  region = c("global", "global", "global", "global"),
  tmsr = c(0.5, 0.5, 0.5, 0.5),
  smsp = c(-0.08, -0.08, -0.08, -0.08)
)
master

portfolio_production <- summarize_portfolio_production(master)
portfolio_production

add_portfolio_target(portfolio_production)
}
