---
title: "Bank Workflow"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(r2dii.dataraw)
library(r2dii.match)
library(r2dii.analysis)
```

## Matching

For analysis of a lending portfolio, `r2dii.analysis` picks up where `r2dii.match` leaves off. The following assumes that the `loanbook` has already been matched and validated against the `ald`. If this is not the case, please [click here for more info](https://2degreesinvesting.github.io/r2dii.match/).

```{r}
# Reading example data after `r2dii.match::match_name()` and manual edits
path <- system.file("extdata", "valid_matches.csv", package = "r2dii.analysis")
valid_matches <- tibble::as_tibble(read.csv(path, stringsAsFactors = FALSE))

valid_matches %>% 
  join_ald_scenario(ald = ald_demo, scenario = scenario_demo)
```

